"use strict";function asyncGeneratorStep(e,t,n,o,r,c,a){try{var u=e[c](a),i=u.value;}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(o,r)}function _asyncToGenerator(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var o=u.apply(e,a);function r(e){asyncGeneratorStep(o,t,n,r,c,"next",e)}function c(e){asyncGeneratorStep(o,t,n,r,c,"throw",e)}r(void 0)})}}window.addEventListener("DOMContentLoaded",function(){var e,t,o,r,c,a,u,i;function s(e){function t(e){return Math.floor(e.getBoundingClientRect().top)}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;e.preventDefault();var o,r=(n||this).getAttribute("href"),c=document.querySelector(r);c&&(n=t(c),window.scrollBy({top:n,left:0,behavior:"smooth"}),o=setInterval(function(){var e=window.innerHeight+window.pageYOffset>=document.body.offsetHeight-2;0!==t(c)&&!e||(c.tabIndex="-1",c.focus(),window.history.pushState("","",r),clearInterval(o))},100))}e=document.getElementById("inputDays"),t=document.getElementById("inputHumans"),o=document.getElementById("inputHours"),r=document.getElementById("outputDays"),c=document.getElementById("outputHumans"),a=document.getElementById("outputHours"),e.oninput=function(){r.textContent=this.value},t.oninput=function(){c.textContent=this.value},o.oninput=function(){a.textContent=this.value},u=document.querySelector(".header-top__wrap"),i=document.querySelector(".header-hero__tabs").offsetTop,window.addEventListener("scroll",function(){var e=window.pageYOffset;i<e?u.classList.add("header-top__wrap--fixed"):u.classList.remove("header-top__wrap--fixed")}),document.querySelectorAll(".menu__link").forEach(function(e){return e.onclick=s});function l(e,t,o){var r=document.querySelector("#"+o);n=0;var o=Math.round(2e3/(e/t)),c=setInterval(function(){n+=t,n>=e&&(clearInterval(c),n=e),r.innerHTML=n},o)}var d=document.querySelector(".tabs").offsetTop-50;function f(n,e){n.style.opacity=0,n.style.display=e||"block",function e(){var t=parseFloat(n.style.opacity);1<(t+=.1)||(n.style.opacity=t,requestAnimationFrame(e))}()}function m(t){t.style.opacity=1,function e(){(t.style.opacity-=.1)<0?t.style.display="none":requestAnimationFrame(e)}()}window.addEventListener("scroll",function e(){window.pageYOffset>d&&(l(12,1,"about__year"),l(34,1,"about__sity"),l(1011,10,"about__event"),l(543,10,"about__people"),this.removeEventListener("scroll",e))});var v,y,p,_,h=document.querySelector(".modal"),w=document.querySelectorAll(".modal-open"),g=document.querySelector(".modal__close"),E=document.querySelector(".modal__overlay");function b(e){var t=document.querySelector(e);document.querySelector(".form__select").addEventListener("change",function(e){switch(e.target.value){case"Prom":case"Consult":case"Stand":case"Model":case"Hostes":_=+e.target.value}}),t.addEventListener("input",function(){switch(t.getAttribute("id")){case"inputDays":v=+t.value;break;case"inputHumans":y=+t.value;break;case"inputHours":p=+t.value}!function e(t,n,o,r){var c=document.querySelector(".form__precoast-big");1===r?(c.textContent=Math.round(t*n*(1e3*o)),e()):2==r?(c.textContent=Math.round(t*n*(1100*o)),e()):3==r?(c.textContent=Math.round(t*n*(1200*o)),e()):4==r?c.textContent=Math.round(t*n*(1300*o)):5==r&&(c.textContent=Math.round(t*n*(1400*o)))}(v,y,p,_)})}w.forEach(function(e){e.addEventListener("click",function(){f(h,"block"),document.body.style.overflow="hidden"})}),g.addEventListener("click",function(e){e.preventDefault(),m(h),document.body.style.overflow=""}),document.addEventListener("keydown",function(e){"Escape"===e.code&&(e.preventDefault(),m(h),document.body.style.overflow="")},!1),E.addEventListener("click",function(e){e.target==E&&(e.preventDefault(),m(h),document.body.style.overflow="")}),window.addEventListener("scroll",function e(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(f(h,"block"),document.body.style.overflow="hidden",window.removeEventListener("scroll",e))}),v=3,y=2,p=4,_=1,b("#inputDays"),b("#inputHumans"),b("#inputHours");var L=document.querySelector(".header-top__nav-btn"),S=document.querySelector(".menu"),q=document.querySelectorAll(".menu__item");function x(e,t,n){var o=2<arguments.length&&void 0!==n?n:"animate__",r=document.querySelector(e);r.classList.add("".concat(o,"animated"),t),r.addEventListener("animationend",function(){r.classList.remove("".concat(o,"animated"),t)},{once:!0})}L.addEventListener("click",function(){S.classList.toggle("active"),L.classList.toggle("active"),q.forEach(function(e){e.addEventListener("click",function(){L.classList.remove("active"),S.classList.remove("active")})})}),x(".header-hero__text","animate__fadeInLeft"),x(".header-hero__slider","animate__fadeInRight");var k,I,C,H,A=document.querySelector(".about").offsetTop+350,w=document.querySelector(".calc").offsetTop-200,g=document.querySelector(".jobs").offsetTop-300;function D(t,n,o){window.addEventListener("scroll",function e(){window.pageYOffset>t&&(x(n,o),this.removeEventListener("scroll",e))})}function M(){C.forEach(function(e){e.style.display="none"}),I.forEach(function(e){e.classList.remove("services__tabs-item--active")})}function T(e){e=0<arguments.length&&void 0!==e?e:0;C[e].style.display="block",I[e].classList.add("services__tabs-item--active")}D(A,".description__img","animate__fadeInLeft"),D(A,".description__text","animate__fadeInRight"),D(w,".jobs__wrap","animate__fadeInUp"),D(g,".models__wrap","animate__zoomIn"),k=".services__tabs-item",I=document.querySelectorAll(k),C=document.querySelectorAll(".description__item"),H=document.querySelector("#services__tabs"),M(),T(),H.addEventListener("click",function(e){var n=e.target;n&&n.classList.contains(k.slice(1))&&I.forEach(function(e,t){n==e&&(M(),T(t))})});!function(){var e=document.querySelectorAll(".form"),n=document.querySelectorAll("input"),t=document.querySelectorAll('input[name="user_phone"]'),r=document.querySelector(".form-status__header"),o=document.querySelector(".form-status");t.forEach(function(e){e.addEventListener("input",function(){e.value=e.value.replace(/\D/,"")})});var c="Загрузка",a="Отправлено! Скоро мы с Вами свяжемся!",u="Что-то пошло не так...",i=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.textContent=c,e.next=3,fetch(t,{method:"POST",body:n});case 3:return o=e.sent,e.next=6,o.text();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();e.forEach(function(t){t.addEventListener("submit",function(e){e.preventDefault();e=new FormData(t);i("js/server.php",e).then(function(e){console.log(e),m(h),f(o,"block"),r.textContent=a}).catch(function(){return r.textContent=u}).finally(function(){n.forEach(function(e){e.hasAttribute("placeholder")&&(e.value="")}),setTimeout(function(){m(o),document.body.style.overflow=""},4e3)})})})}()});